[{"path":"https://sccwrp.github.io/KelpAreaIndicator/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 KelpAreaIndicator authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://sccwrp.github.io/KelpAreaIndicator/articles/KelpAreaIndicator.html","id":"data-setup-and-prerequisites","dir":"Articles","previous_headings":"","what":"Data setup and prerequisites","title":"Landsat Kelp Area Time Series","text":"Install KelpAreaIndicator package SCCWRP github repository load . Provide file paths Landsat kelp area data, downloaded EDI Data Portal, shapefile defines kelp segment polygons interest. kelp segments shapefile polygon shapefile least one attribute, Segment_ID, defines kelp area segments interest WGS 84 CRS (EPSG:4326).","code":"# devtools::install_github( #   \"SCCWRP/KelpAreaIndicator\", #   build_vignettes = TRUE, #   build_manual = TRUE # ) library(KelpAreaIndicator) lter_file_path <- \"../data/LandsatKelpBiomass_2023_Q3_withmetadata.nc\" kelp_segments_file_path <- \"../data/uswc_2024_v2\""},{"path":"https://sccwrp.github.io/KelpAreaIndicator/articles/KelpAreaIndicator.html","id":"assigning-segments-to-landsat-pixels","dir":"Articles","previous_headings":"","what":"Assigning segments to Landsat pixels","title":"Landsat Kelp Area Time Series","text":"segment_landsat_data() function load Landsat netCDF file assign pixel respective segment, defined kelp segments shapefile. pixel Landsat data represents 900 m2^2 area, segment_landsat_data() function provides option treat area values either 0 900 m2^2, rather fractional value 0 900, fractional_pixels parameter. Setting fractional_pixels = FALSE enable binary treatment pixel data. resulting data frame consists rows pixels Landsat data, columns quarters year time series. Segment_ID column indicates segment pixel belongs . lon lat columns longitude latitude pixel, respectively. remaining columns represent quarterly kelp area time series pixel, m2^2. kelp segment never contains pixels kelp coverage, segments represented single row NA values entire time series.","code":"segmented_landsat_data <- segment_landsat_data(   lter_file_path = lter_file_path,   kelp_segments_file_path = kelp_segments_file_path ) #> Reading layer `uswc_2024_v2' from data source  #>   `/Users/nicholasl/Documents/Projects/kelp/KelpAreaIndicator/data/uswc_2024_v2'  #>   using driver `ESRI Shapefile' #> Simple feature collection with 311 features and 1 field #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: -124.844 ymin: 32.52884 xmax: -117.1165 ymax: 48.42642 #> Geodetic CRS:  WGS 84  segmented_landsat_data #> # A tibble: 370,479 × 162 #>    Segment_ID   lon   lat Q1.1984 Q2.1984 Q3.1984 Q4.1984 Q1.1985 Q2.1985 #>    <chr>      <dbl> <dbl>   <int>   <int>   <int>   <int>   <int>   <int> #>  1 OR_11      -125.  42.8      NA       0      66      NA      NA       0 #>  2 OR_11      -125.  42.8      NA       0       0      NA      NA       0 #>  3 OR_11      -125.  42.8      NA       0       0      NA       0       0 #>  4 OR_11      -125.  42.8      NA       0     153      NA      NA       0 #>  5 OR_11      -125.  42.8      NA       0       0      NA       0       0 #>  6 OR_11      -125.  42.8      NA       0       0      NA       0       0 #>  7 OR_11      -125.  42.8      NA       0       0      NA       0       0 #>  8 OR_11      -125.  42.8      NA       0       0      NA       0       0 #>  9 OR_11      -125.  42.8      NA       0      60      NA       0       0 #> 10 OR_11      -125.  42.8      NA       0       0      NA       0       0 #> # ℹ 370,469 more rows #> # ℹ 153 more variables: Q3.1985 <int>, Q4.1985 <int>, Q1.1986 <int>, #> #   Q2.1986 <int>, Q3.1986 <int>, Q4.1986 <int>, Q1.1987 <int>, #> #   Q2.1987 <int>, Q3.1987 <int>, Q4.1987 <int>, Q1.1988 <int>, #> #   Q2.1988 <int>, Q3.1988 <int>, Q4.1988 <int>, Q1.1989 <int>, #> #   Q2.1989 <int>, Q3.1989 <int>, Q4.1989 <int>, Q1.1990 <int>, #> #   Q2.1990 <int>, Q3.1990 <int>, Q4.1990 <int>, Q1.1991 <int>, … segmented_landsat_data_whole_pixels <- segment_landsat_data(   lter_file_path = lter_file_path,   kelp_segments_file_path = kelp_segments_file_path,   fractional_pixels = FALSE ) #> Reading layer `uswc_2024_v2' from data source  #>   `/Users/nicholasl/Documents/Projects/kelp/KelpAreaIndicator/data/uswc_2024_v2'  #>   using driver `ESRI Shapefile' #> Simple feature collection with 311 features and 1 field #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: -124.844 ymin: 32.52884 xmax: -117.1165 ymax: 48.42642 #> Geodetic CRS:  WGS 84  segmented_landsat_data_whole_pixels #> # A tibble: 370,479 × 162 #>    Segment_ID   lon   lat Q1.1984 Q2.1984 Q3.1984 Q4.1984 Q1.1985 Q2.1985 #>    <chr>      <dbl> <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl> #>  1 OR_11      -125.  42.8      NA       0     900      NA      NA       0 #>  2 OR_11      -125.  42.8      NA       0       0      NA      NA       0 #>  3 OR_11      -125.  42.8      NA       0       0      NA       0       0 #>  4 OR_11      -125.  42.8      NA       0     900      NA      NA       0 #>  5 OR_11      -125.  42.8      NA       0       0      NA       0       0 #>  6 OR_11      -125.  42.8      NA       0       0      NA       0       0 #>  7 OR_11      -125.  42.8      NA       0       0      NA       0       0 #>  8 OR_11      -125.  42.8      NA       0       0      NA       0       0 #>  9 OR_11      -125.  42.8      NA       0     900      NA       0       0 #> 10 OR_11      -125.  42.8      NA       0       0      NA       0       0 #> # ℹ 370,469 more rows #> # ℹ 153 more variables: Q3.1985 <dbl>, Q4.1985 <dbl>, Q1.1986 <dbl>, #> #   Q2.1986 <dbl>, Q3.1986 <dbl>, Q4.1986 <dbl>, Q1.1987 <dbl>, #> #   Q2.1987 <dbl>, Q3.1987 <dbl>, Q4.1987 <dbl>, Q1.1988 <dbl>, #> #   Q2.1988 <dbl>, Q3.1988 <dbl>, Q4.1988 <dbl>, Q1.1989 <dbl>, #> #   Q2.1989 <dbl>, Q3.1989 <dbl>, Q4.1989 <dbl>, Q1.1990 <dbl>, #> #   Q2.1990 <dbl>, Q3.1990 <dbl>, Q4.1990 <dbl>, Q1.1991 <dbl>, … segmented_landsat_data |>   dplyr::filter(Segment_ID == \"CA_87\") #> # A tibble: 1 × 162 #>   Segment_ID   lon   lat Q1.1984 Q2.1984 Q3.1984 Q4.1984 Q1.1985 Q2.1985 #>   <chr>      <dbl> <dbl>   <int>   <int>   <int>   <int>   <int>   <int> #> 1 CA_87         NA    NA      NA      NA      NA      NA      NA      NA #> # ℹ 153 more variables: Q3.1985 <int>, Q4.1985 <int>, Q1.1986 <int>, #> #   Q2.1986 <int>, Q3.1986 <int>, Q4.1986 <int>, Q1.1987 <int>, #> #   Q2.1987 <int>, Q3.1987 <int>, Q4.1987 <int>, Q1.1988 <int>, #> #   Q2.1988 <int>, Q3.1988 <int>, Q4.1988 <int>, Q1.1989 <int>, #> #   Q2.1989 <int>, Q3.1989 <int>, Q4.1989 <int>, Q1.1990 <int>, #> #   Q2.1990 <int>, Q3.1990 <int>, Q4.1990 <int>, Q1.1991 <int>, #> #   Q2.1991 <int>, Q3.1991 <int>, Q4.1991 <int>, Q1.1992 <int>, …"},{"path":"https://sccwrp.github.io/KelpAreaIndicator/articles/KelpAreaIndicator.html","id":"kelp-presence","dir":"Articles","previous_headings":"","what":"Kelp presence","title":"Landsat Kelp Area Time Series","text":"designated kelp segments may limited data points Landsat kelp area data, useful classify presence kelp within kelp segment. provide get_kelp_presence() function . current categories “Historical Kelp”, “Ephemeral Kelp”, “Kelp”, defined no_kelp_bound ephemeral_kelp_bound arguments, discussed . function first calculate percentage area kelp segment kelp ever detected . , distinct pixels ever kelp area greater 0 within segment tallied, number pixels multiplied 900 m2^2 (maximum possible area per 30 m ×\\times 30 m pixel), converted km2^2, divided kelp segment’s area km2^2. final ratio multiplied 100 express percentage. percentage calculated, function categorize kelp segment according bounds set no_kelp_bound ephemeral_kelp_bound arguments. upper bounds respective categories, example, no_kelp_bound = 0.02, kelp segments kelp presence percentage 0.01% categorized “Historical Kelp”; similarly “Ephemeral Kelp”. defaults arguments no_kelp_bound = 0.02 ephemeral_kelp_bound = 0.15. result function data frame following columns: Segment_ID: ID kelp area segment segment_area: area kelp segment km2 pixel_percent: percentage kelp segment’s area total number pixels ever detected occupy. calculation assumes pixel contains full 900 m2 kelp area presence: category kelp presence segment. “Historical Kelp”: pixel_percent <= no_kelp_bound pixel_percent NA “Ephemeral Kelp”: pixel_percent <= ephemeral_kelp_bound “Kelp”: otherwise","code":"kelp_presence <- get_kelp_presence(   segmented_landsat_data = segmented_landsat_data,   kelp_segments_file_path = kelp_segments_file_path,   no_kelp_bound = 0.02,   ephemeral_kelp_bound = 0.15 )  kelp_presence |> dplyr::arrange(Segment_ID) #> # A tibble: 311 × 4 #>    Segment_ID segment_area pixel_percent presence           #>    <chr>             <dbl>         <dbl> <chr>              #>  1 CA_1               70.0       3.88    Kelp               #>  2 CA_10              65.1       1.56    Kelp               #>  3 CA_100             92.4       2.52    Kelp               #>  4 CA_101             85.1       2.58    Kelp               #>  5 CA_102            118.        1.57    Kelp               #>  6 CA_103             40.1      NA       No Historical Kelp #>  7 CA_104            117.        0.362   Kelp               #>  8 CA_105             70.9      NA       No Historical Kelp #>  9 CA_106             81.1       0.0400  Ephemeral Kelp     #> 10 CA_107             45.1       0.00799 No Historical Kelp #> # ℹ 301 more rows"},{"path":"https://sccwrp.github.io/KelpAreaIndicator/articles/KelpAreaIndicator.html","id":"extracting-time-series","dir":"Articles","previous_headings":"","what":"Extracting time series","title":"Landsat Kelp Area Time Series","text":"quarterly Landsat time series extracted extract_time_series() function. function aggregates Landsat data per segment, either quarterly annualized time series segment can extracted. subset kelp segments can extracted using segment_id parameter.","code":""},{"path":"https://sccwrp.github.io/KelpAreaIndicator/articles/KelpAreaIndicator.html","id":"quarterly-time-series","dir":"Articles","previous_headings":"Extracting time series","what":"Quarterly time series","title":"Landsat Kelp Area Time Series","text":"quarterly time series aggregated summing quarterly area data pixels within segment. resulting data frame contains 9 columns: Segment_ID: ID kelp area segment max_occupiable: maximum occupiable kelp area given segment. column repeats value rows single kelp area segment historical_med: historical (1984-2013) median kelp area segment. median computed across quarterly annualized kelp area values, depending frequency. column repeats value rows single kelp area segment quarter: quarter time series. present annual time series year: Year time series date: Date representation year/quarter, simpler plotting area_abs: Kelp area absolute magnitude, km2^2 area_hist: Kelp area relative historical median, expressed percentage area_pct: Kelp area relative maximum occupiable kelp area, expressed percentage","code":"quarterly_ts <- extract_time_series(   segmented_landsat_data = segmented_landsat_data,   frequency = \"quarterly\" )  quarterly_ts #> # A tibble: 49,449 × 9 #>    Segment_ID max_occupiable historical_med quarter  year date       area_abs #>    <chr>               <dbl>          <dbl> <chr>   <dbl> <date>        <dbl> #>  1 CA_1                0.758      0.0000575 Q1       1984 1984-01-01 0        #>  2 CA_1                0.758      0.0000575 Q2       1984 1984-04-01 0.000543 #>  3 CA_1                0.758      0.0000575 Q3       1984 1984-07-01 0        #>  4 CA_1                0.758      0.0000575 Q4       1984 1984-10-01 0        #>  5 CA_1                0.758      0.0000575 Q1       1985 1985-01-01 0        #>  6 CA_1                0.758      0.0000575 Q2       1985 1985-04-01 0.00300  #>  7 CA_1                0.758      0.0000575 Q3       1985 1985-07-01 0.00140  #>  8 CA_1                0.758      0.0000575 Q4       1985 1985-10-01 0        #>  9 CA_1                0.758      0.0000575 Q1       1986 1986-01-01 0.0340   #> 10 CA_1                0.758      0.0000575 Q2       1986 1986-04-01 0.00215  #> # ℹ 49,439 more rows #> # ℹ 2 more variables: area_hist <dbl>, area_pct <dbl>"},{"path":"https://sccwrp.github.io/KelpAreaIndicator/articles/KelpAreaIndicator.html","id":"annual-time-series","dir":"Articles","previous_headings":"Extracting time series","what":"Annual time series","title":"Landsat Kelp Area Time Series","text":"provide several options annualizing quarterly Landsat area data, max_first, sum_first, extracting specific quarter year, discussed . annualized time series data frame identical quarterly time series data, except quarter column. Note historical median area (historical_med) maximum occupiable area (max_occupiable) given per Segment_ID, repeated every row time series. historical median calculated across annualized values 1984 2013, inclusive. max_first annualization method loop Landsat pixels year time series, select maximum value pixel attained year. , maximum values added together pixels segment, resulting time series annual kelp segment. sum_first method sum time series pixels kelp segment, kelp segment quarterly time series. , maximum segment within year selected, time series annual. Q1, Q2, Q3, Q4 options sum together pixels within segment extract respective quarter within year.","code":"max_first_annual_ts <- extract_time_series(   segmented_landsat_data = segmented_landsat_data,   annualization_method = \"max_first\" )  max_first_annual_ts #> # A tibble: 12,440 × 8 #>    Segment_ID max_occupiable historical_med  year date       area_abs #>    <chr>               <dbl>          <dbl> <dbl> <date>        <dbl> #>  1 CA_1                0.758        0.00328  1984 1984-01-01 0.000543 #>  2 CA_1                0.758        0.00328  1985 1985-01-01 0.00434  #>  3 CA_1                0.758        0.00328  1986 1986-01-01 0.0850   #>  4 CA_1                0.758        0.00328  1987 1987-01-01 0.0912   #>  5 CA_1                0.758        0.00328  1988 1988-01-01 0        #>  6 CA_1                0.758        0.00328  1989 1989-01-01 0.0160   #>  7 CA_1                0.758        0.00328  1990 1990-01-01 0.0301   #>  8 CA_1                0.758        0.00328  1991 1991-01-01 0.0136   #>  9 CA_1                0.758        0.00328  1992 1992-01-01 0.00619  #> 10 CA_1                0.758        0.00328  1993 1993-01-01 0        #> # ℹ 12,430 more rows #> # ℹ 2 more variables: area_hist <dbl>, area_pct <dbl> sum_first_annual_ts <- extract_time_series(   segmented_landsat_data = segmented_landsat_data,   annualization_method = \"sum_first\" )  sum_first_annual_ts #> # A tibble: 12,440 × 8 #>    Segment_ID max_occupiable historical_med  year date       area_abs #>    <chr>               <dbl>          <dbl> <dbl> <date>        <dbl> #>  1 CA_1                0.758        0.00302  1984 1984-01-01 0.000543 #>  2 CA_1                0.758        0.00302  1985 1985-01-01 0.00300  #>  3 CA_1                0.758        0.00302  1986 1986-01-01 0.0464   #>  4 CA_1                0.758        0.00302  1987 1987-01-01 0.0805   #>  5 CA_1                0.758        0.00302  1988 1988-01-01 0        #>  6 CA_1                0.758        0.00302  1989 1989-01-01 0.0138   #>  7 CA_1                0.758        0.00302  1990 1990-01-01 0.0245   #>  8 CA_1                0.758        0.00302  1991 1991-01-01 0.00685  #>  9 CA_1                0.758        0.00302  1992 1992-01-01 0.00533  #> 10 CA_1                0.758        0.00302  1993 1993-01-01 0        #> # ℹ 12,430 more rows #> # ℹ 2 more variables: area_hist <dbl>, area_pct <dbl> q3_annual_ts <- extract_time_series(   segmented_landsat_data = segmented_landsat_data,   annualization_method = \"Q3\" )  q3_annual_ts #> # A tibble: 12,440 × 9 #>    Segment_ID max_occupiable historical_med  year date       quarter area_abs #>    <chr>               <dbl>          <dbl> <dbl> <date>     <chr>      <dbl> #>  1 CA_1                0.758       0.000513  1984 1984-01-01 Q3       0       #>  2 CA_1                0.758       0.000513  1985 1985-01-01 Q3       0.00140 #>  3 CA_1                0.758       0.000513  1986 1986-01-01 Q3       0.0464  #>  4 CA_1                0.758       0.000513  1987 1987-01-01 Q3       0.0805  #>  5 CA_1                0.758       0.000513  1988 1988-01-01 Q3       0       #>  6 CA_1                0.758       0.000513  1989 1989-01-01 Q3       0.00319 #>  7 CA_1                0.758       0.000513  1990 1990-01-01 Q3       0.0245  #>  8 CA_1                0.758       0.000513  1991 1991-01-01 Q3       0.00101 #>  9 CA_1                0.758       0.000513  1992 1992-01-01 Q3       0.00533 #> 10 CA_1                0.758       0.000513  1993 1993-01-01 Q3       0       #> # ℹ 12,430 more rows #> # ℹ 2 more variables: area_hist <dbl>, area_pct <dbl>"},{"path":"https://sccwrp.github.io/KelpAreaIndicator/articles/KelpAreaIndicator.html","id":"plotting-time-series","dir":"Articles","previous_headings":"","what":"Plotting time series","title":"Landsat Kelp Area Time Series","text":"Compare different methods annualization applied CA_70 segment . plot_time_series() function convenience function plot time series particular segment. , ’ve modified added ggplot2 line layers visualize difference max_first, sum_first, Q3 annualization methods. plot chunk time_series_plot_comparison","code":"# combine all methods into a single data frame for plotting annual_ts <- dplyr::bind_rows(   max_first_annual_ts |> dplyr::mutate(method = \"Max first\"),   sum_first_annual_ts |> dplyr::mutate(method = \"Sum first\"),   q3_annual_ts |> dplyr::mutate(method = \"Quarter 3\") )  # for grey background lines in plot other_ts <- annual_ts |>   dplyr::filter(Segment_ID == \"CA_70\") |>   dplyr::rename(others = method)  plot_time_series(   kelp_area_time_series = annual_ts,   type = \"absolute\",   segment_id = \"CA_70\",   color = method ) +   ggplot2::geom_line(     data = other_ts,     mapping = ggplot2::aes(x = date, y = area_abs, group = others),     alpha = 0.15,     inherit.aes = FALSE   ) +   ggplot2::scale_x_date(date_breaks = \"4 years\", date_labels = \"%Y\") +   ggplot2::scale_color_viridis_d() +   ggplot2::labs(color = \"Annualization\\nMethod\") +   ggplot2::facet_wrap(ggplot2::vars(method), scales = \"free_x\") #> Scale for x is already present. #> Adding another scale for x, which will replace the existing scale."},{"path":"https://sccwrp.github.io/KelpAreaIndicator/articles/KelpAreaIndicator.html","id":"kelp-status","dir":"Articles","previous_headings":"","what":"Kelp status","title":"Landsat Kelp Area Time Series","text":"status kelp segments can computed relative historical baseline (1984 - 2013) get_kelp_status() function. function uses computed time series kelp presence data frames extract_time_series() get_kelp_presence() functions, respectively. Individual kelp segments subsets kelp segments may specified segment_id argument, desired year may specified status_year argument. function return status segments segment_id = NULL (default) latest year Landsat data status_year = NULL (default). Status calculated dividing given year’s kelp area historical median across 1984-2013 kelp segment. value -999 indicates enough data determine status given kelp segment.","code":"kelp_status_2020 <- get_kelp_status(   annual_time_series = sum_first_annual_ts,   kelp_presence = kelp_presence,   status_year = 2020 )  kelp_status_2020 #> # A tibble: 311 × 3 #>    Segment_ID  year  status #>    <chr>      <dbl>   <dbl> #>  1 CA_1        2020  128.   #>  2 CA_10       2020    1.90 #>  3 CA_100      2020    2.23 #>  4 CA_101      2020    6.41 #>  5 CA_102      2020    2.23 #>  6 CA_103      2020 -999    #>  7 CA_104      2020   26.2  #>  8 CA_105      2020 -999    #>  9 CA_106      2020 -999    #> 10 CA_107      2020 -999    #> # ℹ 301 more rows kelp_status_CA_70 <- get_kelp_status(   annual_time_series = sum_first_annual_ts,   kelp_presence = kelp_presence,   segment_id = \"CA_70\" )  kelp_status_CA_70 #> # A tibble: 1 × 3 #>   Segment_ID  year status #>   <chr>      <dbl>  <dbl> #> 1 CA_70       2023   4.02"},{"path":"https://sccwrp.github.io/KelpAreaIndicator/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Nicholas Lombardo. Author, maintainer. SCCWRP. Copyright holder, funder.","code":""},{"path":"https://sccwrp.github.io/KelpAreaIndicator/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Lombardo N (2024). KelpAreaIndicator: Explore Landsat Kelp Area Data. R package version 0.0.0.9000, https://github.com/SCCWRP/KelpAreaIndicator, https://sccwrp.github.io/KelpAreaIndicator/.","code":"@Manual{,   title = {KelpAreaIndicator: Explore Landsat Kelp Area Data},   author = {Nicholas Lombardo},   year = {2024},   note = {R package version 0.0.0.9000, https://github.com/SCCWRP/KelpAreaIndicator},   url = {https://sccwrp.github.io/KelpAreaIndicator/}, }"},{"path":"https://sccwrp.github.io/KelpAreaIndicator/index.html","id":"kelpareaindicator","dir":"","previous_headings":"","what":"Explore Landsat Kelp Area Data","title":"Explore Landsat Kelp Area Data","text":"goal KelpAreaIndicator R package explore Landsat kelp area data along west coast US.","code":""},{"path":"https://sccwrp.github.io/KelpAreaIndicator/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Explore Landsat Kelp Area Data","text":"can install development version KelpAreaIndicator install_github function devtools package like :","code":"devtools::install_github(   \"SCCWRP/KelpAreaIndicator\",    build_vignettes = TRUE,    build_manual = TRUE )"},{"path":"https://sccwrp.github.io/KelpAreaIndicator/index.html","id":"help","dir":"","previous_headings":"","what":"Help","title":"Explore Landsat Kelp Area Data","text":"installation, functions help pages accessible ? operator. view simple example using package:","code":"library(KelpAreaIndicator) ?segment_landsat_data vignette(\"KelpAreaIndicator\", package = \"KelpAreaIndicator\")"},{"path":"https://sccwrp.github.io/KelpAreaIndicator/reference/extract_time_series.html","id":null,"dir":"Reference","previous_headings":"","what":"Transform the quarterly landsat data to an annual time series — extract_time_series","title":"Transform the quarterly landsat data to an annual time series — extract_time_series","text":"Landsat kelp area data quarterly product per pixel, function serves aggregate pixels time series segment, either quarterly annually, different methods annualization.","code":""},{"path":"https://sccwrp.github.io/KelpAreaIndicator/reference/extract_time_series.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Transform the quarterly landsat data to an annual time series — extract_time_series","text":"","code":"extract_time_series(   segmented_landsat_data,   ...,   frequency = c(\"annual\", \"quarterly\"),   annualization_method = c(\"sum_first\", \"max_first\", \"Q1\", \"Q2\", \"Q3\", \"Q4\"),   segment_id = NULL )"},{"path":"https://sccwrp.github.io/KelpAreaIndicator/reference/extract_time_series.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Transform the quarterly landsat data to an annual time series — extract_time_series","text":"segmented_landsat_data dataframe generated segment_landsat_data() rows pixel, columns quarter year landsat data, assigned segment given shapefile ... dots future extensions must empty. frequency frequency time series extract. Either \"annual\" (default) \"quarterly\" annualization_method method used convert quarterly time series annual time series. \"sum_first\": sums together quarterly area values pixel within segment, maximum area per year segment calculated \"max_first\": pixel, maximum quarterly area year calculated first, maximum areas per year summed together within kelp segment. \"Q1\": selects first quarter every year \"Q2\": selects second quarter every year \"Q3\": selects third quarter every year \"Q4\": selects fourth quarter every year segment_id character vector containing subset segment_id's interest, e.g. c(\"CA_71\", \"CA_78\"), NULL segment IDs (default).","code":""},{"path":"https://sccwrp.github.io/KelpAreaIndicator/reference/extract_time_series.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Transform the quarterly landsat data to an annual time series — extract_time_series","text":"dataframe following columns: Segment_ID: ID kelp area segment max_occupiable: maximum occupiable kelp area given segment. column repeats value rows single kelp area segment historical_med: historical (1984-2013) median kelp area segment. median computed across quarterly annualized kelp area values, depending frequency. column repeats value rows single kelp area segment quarter*: frequency == \"quarterly\", quarter time series, otherwise present year: Year time series date: date representation year/quarter, simpler plotting area_abs: Kelp area absolute magnitude, km^2 area_hist: Kelp area relative historical median, expressed percentage area_pct: Kelp area relative maximum occupiable kelp area, expressed percentage","code":""},{"path":[]},{"path":"https://sccwrp.github.io/KelpAreaIndicator/reference/get_kelp_presence.html","id":null,"dir":"Reference","previous_headings":"","what":"Get kelp presence within each segment — get_kelp_presence","title":"Get kelp presence within each segment — get_kelp_presence","text":"Many kelp segments may pixels ever detected within , function serves classify different kelp segments, based area detected pixel occupies relative area entire kelp segment.","code":""},{"path":"https://sccwrp.github.io/KelpAreaIndicator/reference/get_kelp_presence.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get kelp presence within each segment — get_kelp_presence","text":"","code":"get_kelp_presence(   segmented_landsat_data,   kelp_segments_file_path,   ...,   no_kelp_bound = 0.02,   ephemeral_kelp_bound = 0.15 )"},{"path":"https://sccwrp.github.io/KelpAreaIndicator/reference/get_kelp_presence.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get kelp presence within each segment — get_kelp_presence","text":"segmented_landsat_data dataframe generated segment_landsat_data() rows pixel, columns quarter year landsat data, assigned segment given shapefile kelp_segments_file_path character string path kelp segments shapefile. Must contain Segment_ID attribute use WGS 84 coordinate reference system (EPSG:4326) ... dots future extensions must empty. no_kelp_bound Upper bound, percent segment area, \"Historical Kelp\" category. Default 0.02 ephemeral_kelp_bound Upper bound, percentage segment area, \"Ephemeral Kelp\" category. Default 0.15","code":""},{"path":"https://sccwrp.github.io/KelpAreaIndicator/reference/get_kelp_presence.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get kelp presence within each segment — get_kelp_presence","text":"dataframe following columns: Segment_ID: ID kelp area segment segment_area: area km2 kelp segment pixel_percent: percentage kelp segment's area total number pixels ever detected occupy. calculation assumes pixel contains full 900 m2 kelp area presence: category kelp presence segment. \"Historical Kelp\": pixel_percent <= no_kelp_bound pixel_percent NA \"Ephemeral Kelp\": pixel_percent <= ephemeral_kelp_bound \"Kelp\": otherwise","code":""},{"path":"https://sccwrp.github.io/KelpAreaIndicator/reference/get_kelp_status.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the kelp status for a particular year — get_kelp_status","title":"Get the kelp status for a particular year — get_kelp_status","text":"Status calculated dividing given year's kelp area historical median across 1984-2013 kelp segment.","code":""},{"path":"https://sccwrp.github.io/KelpAreaIndicator/reference/get_kelp_status.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the kelp status for a particular year — get_kelp_status","text":"","code":"get_kelp_status(   annual_time_series,   kelp_presence,   ...,   status_year = NULL,   segment_id = NULL )"},{"path":"https://sccwrp.github.io/KelpAreaIndicator/reference/get_kelp_status.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the kelp status for a particular year — get_kelp_status","text":"annual_time_series Annual time series generated extract_time_series(). work quarterly time series kelp_presence Kelp presence data frame generated get_kelp_presence() ... dots future extensions must empty. status_year Year calculate status , NULL latest year time series. segment_id character vector containing subset segment_id's interest, e.g. c(\"CA_71\", \"CA_78\"), NULL segment IDs (default).","code":""},{"path":"https://sccwrp.github.io/KelpAreaIndicator/reference/get_kelp_status.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the kelp status for a particular year — get_kelp_status","text":"data frame statuses Segment_ID annual_time_series. value -999 indicates enough data determine status given kelp segment","code":""},{"path":"https://sccwrp.github.io/KelpAreaIndicator/reference/get_max_occupiable_area.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate the maximum occupiable kelp area — get_max_occupiable_area","title":"Calculate the maximum occupiable kelp area — get_max_occupiable_area","text":"Maximum occupiable kelp area maximum possible area kelp ever occupied landsat area data, e.g. pixel showed 0.003 km2 kelp coverage 40 year time series, 0 km2 remainder time, maximum occupiable kelp area pixel 0.003 km2. entire segment, maximum occupiable kelp area sum pixel's maximum occupiable kelp area.","code":""},{"path":"https://sccwrp.github.io/KelpAreaIndicator/reference/get_max_occupiable_area.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate the maximum occupiable kelp area — get_max_occupiable_area","text":"","code":"get_max_occupiable_area(segmented_landsat_data)"},{"path":"https://sccwrp.github.io/KelpAreaIndicator/reference/get_max_occupiable_area.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate the maximum occupiable kelp area — get_max_occupiable_area","text":"segmented_landsat_data dataframe generated segment_landsat_data() rows pixel, columns quarter year landsat data, assigned segment given shapefile","code":""},{"path":"https://sccwrp.github.io/KelpAreaIndicator/reference/get_max_occupiable_area.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate the maximum occupiable kelp area — get_max_occupiable_area","text":"dataframe maximum occupiable area kelp segment","code":""},{"path":"https://sccwrp.github.io/KelpAreaIndicator/reference/plot_time_series.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot the given kelp area time series — plot_time_series","title":"Plot the given kelp area time series — plot_time_series","text":"Plot given kelp area time series","code":""},{"path":"https://sccwrp.github.io/KelpAreaIndicator/reference/plot_time_series.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot the given kelp area time series — plot_time_series","text":"","code":"plot_time_series(   kelp_area_time_series,   ...,   type = c(\"absolute\", \"percent\", \"historical\"),   segment_id = NULL )"},{"path":"https://sccwrp.github.io/KelpAreaIndicator/reference/plot_time_series.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot the given kelp area time series — plot_time_series","text":"kelp_area_time_series Data frame generated extract_time_series() ... additional aesthetics passed ggplot call type type representation area value. One : \"absolute\": absolute value kelp area, km^2 \"percent\": kelp area relative maximum occupiable area, expressed percentage \"historical\": kelp area relative historical median, expressed percentage segment_id segment ID(s) plot. default option segment_id = NULL plot first segment time series","code":""},{"path":"https://sccwrp.github.io/KelpAreaIndicator/reference/plot_time_series.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot the given kelp area time series — plot_time_series","text":"ggplot object time series","code":""},{"path":"https://sccwrp.github.io/KelpAreaIndicator/reference/segment_landsat_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Assign segment ID's to each pixel in the landsat data according to a given shapefile — segment_landsat_data","title":"Assign segment ID's to each pixel in the landsat data according to a given shapefile — segment_landsat_data","text":"function assigns Landsat pixel segment ID's derived shapefile polygons Segment_ID attribute. shapefile describes segments interest along west coast US. function assumes Landsat data starts quarter 1 first year interest.","code":""},{"path":"https://sccwrp.github.io/KelpAreaIndicator/reference/segment_landsat_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Assign segment ID's to each pixel in the landsat data according to a given shapefile — segment_landsat_data","text":"","code":"segment_landsat_data(   lter_file_path,   kelp_segments_file_path,   ...,   fractional_pixels = TRUE )"},{"path":"https://sccwrp.github.io/KelpAreaIndicator/reference/segment_landsat_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Assign segment ID's to each pixel in the landsat data according to a given shapefile — segment_landsat_data","text":"lter_file_path character string path landsat netCDF file kelp_segments_file_path character string path kelp segments shapefile. Must contain Segment_ID attribute use WGS 84 coordinate reference system (EPSG:4326) ... dots future extensions must empty. fractional_pixels whether consider fractional area values pixels, e.g. pixel Landsat data value 66 m^2, setting fractional_pixels = FALSE treat pixel 900 m^2 instead","code":""},{"path":"https://sccwrp.github.io/KelpAreaIndicator/reference/segment_landsat_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Assign segment ID's to each pixel in the landsat data according to a given shapefile — segment_landsat_data","text":"dataframe rows pixel, following columns: Segment_ID: ID kelp area segment lon: longitude Landsat pixel lat: latitude Landsat pixel Q1.1984: kelp area m^2 given pixel quarter 1 1984 ... : subsequent quarters years Segments pixels ever represented rows NA values","code":""}]
